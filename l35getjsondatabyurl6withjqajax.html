<!DOCTYPE html>
<html>
    <head>
        <title>Joke API From URL 6 with jQuery ajax</title>
        <style type="text/css">
            body{
                height: 100vh;

                display: flex;
                justify-content: center;
                align-items: center;
            }

            .container{
                width: 300px;
                background-color: #f4f4f4;
                padding: 10px;
            }
        </style>
    </head>
    <body>

        <div class="container">
            <div id="display"></div>
            <button type="button" id="btn">Load Data</button>
        </div>

        <script src="https://code.jquery.com/jquery-3.7.1.min.js" type="text/javascript"></script>
        <script type="text/javascript">

            var getdisplay = document.getElementById('display');
            var getbtn = document.getElementById('btn');

            getbtn.addEventListener('click', function(){
                loaddata();
            });

           

            // function loaddata(){

            //     var url = `https://api.chucknorris.io/jokes/random`;

            //     $.ajax({
            //         method: "GET",
            //         url: url,
            //         dataType: 'json'
            //     }).done((data)=>{
            //         var html = `<img src="${data.icon_url}" /><h3>${data.value}</h3>`;
            //         getdisplay.innerHTML = html;
            //     }).fail(()=>{
            //         console.log('error');
            //     });
                
            // }

            function loaddata(){

                var url = `https://api.spacexdata.com/v3/launches`;

                let html;

                $.ajax({
                    method: "GET",
                    url: url,
                    dataType: "json"
                }).done((data,status,stage)=>{
                    // console.log(data);
                    // console.log(typeof data);
                    // console.log(status);
                    // console.log(stage);

                    // data.forEach(function(val,idx){
                        // console.log(val);
                        // console.log(idx);// 0 to 110 

                        // console.log(data[idx].flight_number);

                        // html += `<ul>
                        //             <li>Flight Number = ${val.flight_number}</li>
                        //             <li>Mission name = ${val.mission_name}</li>
                        //             <li>Launch Year = ${val.launch_year}</li>
                        //          </ul>`;

                        // html += `<ul>
                        //             <li>Flight Number = ${data[idx].flight_number}</li>
                        //             <li>Mission name = ${data[idx].mission_name}</li>
                        //             <li>Launch Year = ${data[idx].launch_year}</li>
                        //          </ul>`;

                        
                    // });

                    $.each(data,function(idx,val){
                        // console.log(idx); //index
                        // console.log(val); //value

                        // html += `<ul>
                        //             <li>Flight Number = ${val.flight_number}</li>
                        //             <li>Mission name = ${val.mission_name}</li>
                        //             <li>Launch Year = ${val.launch_year}</li>
                        //          </ul>`;

                        html += `<ul>
                                    <li>Flight Number = ${data[idx].flight_number}</li>
                                    <li>Mission name = ${data[idx].mission_name}</li>
                                    <li>Launch Year = ${data[idx].launch_year}</li>
                                 </ul>`;
                    })


                    getdisplay.innerHTML = html;
                    
                });

            

            }

         

        </script>
    </body>
</html>