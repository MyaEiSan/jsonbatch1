<!DOCTYPE html>
<html>
    <head>
        <title>Joke API From URL 7 with axios</title>
        <style type="text/css">
            body{
                height: 100vh;

                display: flex;
                justify-content: center;
                align-items: center;
            }

            .container{
                width: 300px;
                background-color: #f4f4f4;
                padding: 10px;
            }
        </style>
    </head>
    <body>

        <div class="container">
            <div id="display"></div>
            <button type="button" id="btn">Click Me</button>
        </div>
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <script type="text/javascript">

            var getdisplay = document.getElementById('display');
            var getbtn = document.getElementById('btn');

            getbtn.addEventListener('click', function(){
                loaddata();
            });

            

            function loaddata(){
                // var xmlhttp = new XMLHttpRequest();
                var key = `bd1ide2hnf4jzzcx`;
                var url = `https://api.ipregistry.co/?key=${key}`;

                // xmlhttp.open("GET",url); //default mean yes synchronize 


                // xmlhttp.onload = function() {
                //     // console.log(xmlhttp);

                //     var result = xmlhttp.response;

                //     result = JSON.parse(result);
                //     console.log(result);

                //     var html = `
                //         <ul>
                //             <li>External IP = ${result.ip}</li>
                //             <li>Current Device = ${result.user_agent.device.name} / ${result.user_agent.device.type} </li>
                //             <li>Operating System =${result.user_agent.os.name} </li>
                //             <li>Load By = ${result.user_agent.type}</li>
                //             <li>City = ${result.location.city}</li>
                //             <li>Loacal Currency = ${result.currency.symbol}</li>
                //             <li>Time Zone = ${result.time_zone.id}</li>
                //         </ul>
                //     `;

                //     getdisplay.innerHTML = html;
                // }

                // xmlhttp.send()

                axios.get(url).then((response)=>{
                    var html = `
                        <ul>
                            <li>External IP = ${response.data.ip}</li>
                            <li>Current Device = ${response.data.user_agent.device.name} / ${response.data.user_agent.device.type} </li>
                            <li>Operating System =${response.data.user_agent.os.name} </li>
                            <li>Load By = ${response.data.user_agent.type}</li>
                            <li>City = ${response.data.location.city}</li>
                            <li>Loacal Currency = ${response.data.currency.symbol}</li>
                            <li>Time Zone = ${response.data.time_zone.id}</li>
                        </ul>
                    `;

                    getdisplay.innerHTML = html;
                }).catch((err)=>{
                    console.log(err);
                })

            }


         

        </script>
    </body>
</html>

<!-- https://ipregistry.co -->